# 小说专栏使用说明

## 功能概述

小说专栏功能已成功实现，包括：

1. **小说书架页面** (`novel.html`) - 显示所有小说及其分部的列表
2. **小说阅读页面** (`_layouts/novel-reader.html`) - 包含顶部樱花条幅、导航、左侧目录、中间内容、底部footer
3. **章节文件管理** - 自动为章节文件添加 Front Matter

## 文件结构

```
_Novel/
  └── 凛酱的日语语法之旅/
      ├── N4.html (分部索引页)
      └── N4/
          ├── 第一章：xxx.md
          ├── 第二章：xxx.md
          └── ...
```

## 使用方法

### 1. 添加新小说

1. 在 `_Novel` 目录下创建新的小说文件夹（例如：`_Novel/新小说名称/`）
2. 在新小说文件夹下创建分部文件夹（例如：`_Novel/新小说名称/第一部/`）
3. 在分部文件夹下添加章节 markdown 文件

### 2. 为章节文件添加 Front Matter

运行脚本为章节文件添加 Front Matter：

```bash
python scripts/add_novel_front_matter.py
```

如果章节文件已有 Front Matter 但需要更新章节顺序：

```bash
python scripts/update_novel_chapter_order.py
```

### 3. 创建分部索引页

为每个分部创建一个 `.html` 文件（例如：`N4.html`），内容如下：

```yaml
---
layout: novel-reader
title: N4小说
novel_title: 凛酱的日语语法之旅
part_title: N4
part_path: 凛酱的日语语法之旅/N4
---
```

### 4. 访问小说专栏

- 书架页面：访问 `/novel.html` 或通过导航栏的"小说专栏"链接
- 阅读页面：点击书架上的分部卡片，进入该分部的阅读页面
- 章节切换：在阅读页面左侧目录中点击章节链接即可切换章节

## 章节文件 Front Matter 格式

每个章节文件应包含以下 Front Matter：

```yaml
---
layout: novel-reader
title: "第一章：xxx"
novel_title: "小说名称"
part_title: "分部名称"
part_path: "小说名称/分部名称"
chapter_order: 1
permalink: /Novel/小说名称/分部名称/章节标题/
---
```

## 样式定制

- 书架样式：`assets/css/novel-shelf.css`
- 阅读器样式：`assets/css/novel-reader.css`
- JavaScript：`assets/js/novel-reader.js`

## 注意事项

1. 章节文件名应包含章节号（如"第一章"、"第二章"），脚本会自动提取并排序
2. 分部索引页的 `part_path` 必须与章节文件的路径匹配
3. 章节文件必须使用 `novel-reader` 布局
4. 新增小说后，章节文件会自动被 Jekyll 处理，无需额外配置

## 扩展性

系统设计具有良好的扩展性：

- 可以轻松添加新小说：只需创建新的文件夹结构
- 可以轻松添加新分部：在小说文件夹下创建新的分部文件夹
- 章节会自动按 `chapter_order` 排序显示
- 所有样式和布局都是响应式的，支持移动端访问

